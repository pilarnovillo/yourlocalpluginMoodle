{"version":3,"file":"main.min.js","sources":["../src/main.js"],"sourcesContent":["/*eslint linebreak-style: [\"error\", \"windows\"]*/\r\n// define(['jquery','core/log', 'core_h5p/editor_display'], function($, log, Editor){\r\n// define(['jquery','core/log','editor_atto'], function($, log, editor_atto){\r\n// import call  from 'core/ajax';\r\ndefine(['jquery','core/log','core/ajax'], function($, log, ajax){\r\n    log.debug('Your module is loading2.');\r\n    return {\r\n        init: function(datos_json) {\r\n            $(document).ready(function(){\r\n                // Convertir los datos JSON de PHP a objetos JavaScript\r\n                var datos = JSON.parse(datos_json);\r\n\r\n                // Hacer algo con los datos\r\n                log.debug(datos);\r\n\r\n                log.debug(\"CHECK IF DRAFT SAVED\");\r\n\r\n                // Get the query string portion of the URL.\r\n                var queryString = window.location.search;\r\n\r\n                // Remove the leading '?' character.\r\n                queryString = queryString.substring(1);\r\n\r\n                // Split the query string into an array of key-value pairs.\r\n                var params = queryString.split('&');\r\n\r\n                // Create an object to store the parameters and their values.\r\n                var paramsObject = {};\r\n\r\n                // Iterate over the key-value pairs and populate the paramsObject.\r\n                params.forEach(function(param) {\r\n                    var keyValue = param.split('=');\r\n                    var key = decodeURIComponent(keyValue[0]);\r\n                    var value = decodeURIComponent(keyValue[1]);\r\n                    paramsObject[key] = value;\r\n                });\r\n\r\n                // Now you can access the parameters and their values from the paramsObject.\r\n                var paramCourseid = paramsObject['courseid'];\r\n                log.debug(paramCourseid);\r\n\r\n                // Create form elements\r\n                    var selectTopicosH5P = [];\r\n                    var seleccionarUnidadTitulo = document.createElement('h3');\r\n                    seleccionarUnidadTitulo.textContent = 'Seleccionar Unidad y Topicos:';\r\n\r\n                    /**\r\n                     * Obtiene todas las unidades de los contenidos mínimos en el objeto de datos.\r\n                     *\r\n                     * @param {Object} datos - El objeto que contiene los OA\r\n                     * @returns {string[]} Array de URIs de todas las unidades.\r\n                     */\r\n                    function obtenerUnidadesConTemasYTopicos(datos) {\r\n                        let unidadesConTemasYTopicos = [];\r\n                        datos.contenidosMinimo.forEach(contenido => {\r\n                            contenido.unidades.forEach(unidad => {\r\n                                let temasYTopicos = unidad.temas.map(tema => ({\r\n                                    tema: tema.uri.replace(\"http://www.semanticweb.org/valer/ontologies/OntoOA#\", \"\"),\r\n                                    topicos: tema.topicos.map(topico =>\r\n                                        topico.uri.replace(\"http://www.semanticweb.org/valer/ontologies/OntoOA#\", \"\"))\r\n                                }));\r\n                                unidadesConTemasYTopicos.push({\r\n                                    unidad: unidad.uri.replace(\"http://www.semanticweb.org/valer/ontologies/OntoOA#\", \"\"),\r\n                                    temasYTopicos: temasYTopicos\r\n                                });\r\n                            });\r\n                        });\r\n                        return unidadesConTemasYTopicos;\r\n                    }\r\n\r\n                    // Crear el elemento select\r\n                    var select = document.createElement('select');\r\n                    select.setAttribute('id', 'id_unidadSelect');\r\n\r\n                    // Obtener las unidades con sus temas y tópicos y añadirlas al select como opciones\r\n                    var unidadesConTemasYTopicos = obtenerUnidadesConTemasYTopicos(datos);\r\n                    unidadesConTemasYTopicos.forEach(function(unidadConTemasYTopicos) {\r\n                        var option = document.createElement('option');\r\n                        option.textContent = unidadConTemasYTopicos.unidad;\r\n                        option.value = unidadConTemasYTopicos.unidad.toUpperCase().replace(/\\s+/g, '_');\r\n                        option.dataset.temasYTopicos = JSON.stringify(unidadConTemasYTopicos.temasYTopicos); // Guardar los temas y\r\n                        select.appendChild(option);\r\n                    });\r\n                    // Append form to container\r\n                    var mainDiv = document.querySelector('div[role=\"main\"]');\r\n                    // var mform = document.getElementsByClassName(\"mform\")[0];\r\n                    // // log.debug(mform);\r\n                    mainDiv.insertBefore(seleccionarUnidadTitulo, mainDiv.firstChild);\r\n                    seleccionarUnidadTitulo.insertAdjacentElement('afterend', select);\r\n\r\n                    // Crear el elemento ul para la lista de temas y tópicos\r\n                    var ul = document.createElement('ul');\r\n                    ul.setAttribute('id', 'listaTemasYTopicos');\r\n                    ul.style.listStyleType = 'none'; // Eliminar los puntos de la lista\r\n\r\n                    select.insertAdjacentElement('afterend', ul);\r\n\r\n                    // Add event listener to select for change event\r\n                    select.addEventListener('change', function(event) {\r\n                        selectTopicosH5P = [];\r\n                        var selectedOption = event.target.selectedOptions[0];\r\n                        var temasYTopicos = JSON.parse(selectedOption.dataset.temasYTopicos);\r\n\r\n                        // Limpiar la lista anterior\r\n                        ul.innerHTML = '';\r\n\r\n                        // Añadir los temas y tópicos a la lista\r\n                        temasYTopicos.forEach(item => {\r\n                            var liTema = document.createElement('li');\r\n                            liTema.textContent = item.tema;\r\n                            ul.appendChild(liTema);\r\n\r\n                            item.topicos.forEach(topico => {\r\n                                var liTopico = document.createElement('li');\r\n\r\n                                var checkbox = document.createElement('input');\r\n                                checkbox.type = 'checkbox';\r\n                                checkbox.value = topico.toUpperCase().replace(/\\s+/g, '_');\r\n\r\n                                var label = document.createElement('label');\r\n                                label.textContent = topico;\r\n                                selectTopicosH5P.push(topico);\r\n                                log.debug(selectTopicosH5P);\r\n                                label.prepend(checkbox);\r\n\r\n                                liTopico.appendChild(label);\r\n                                liTopico.style.marginLeft = '20px'; // Sangría para los tópicos\r\n                                ul.appendChild(liTopico);\r\n                            });\r\n                        });\r\n\r\n                        var select = document.getElementById('menutopic');\r\n                        if(select){\r\n                            // select.setAttribute('id','id_unidadSelect');\r\n                            // Add options to select element\r\n                            // var options = ['Introducción', 'Enfoque Basado en Agentes', 'Búsqueda'];\r\n\r\n                            var options = selectTopicosH5P;\r\n                            log.debug(selectTopicosH5P);\r\n                            options.forEach(function(optionText) {\r\n                                var option = document.createElement('option');\r\n                                option.textContent = optionText;\r\n                                option.value = optionText.toUpperCase().replace(/\\s+/g, '_');\r\n                                select.appendChild(option);\r\n                            });\r\n                        }\r\n                    });\r\n\r\n                    var seleccionarRAsTitulo = document.createElement('h3');\r\n                    seleccionarRAsTitulo.textContent = 'Seleccionar Resultados de Aprendizaje de la Asignatura:';\r\n\r\n                    var checkboxesContainer = document.createElement('div'); // Add multiple select element\r\n                    checkboxesContainer.setAttribute('id', 'resultadoAprendizaje'); // Set attributes for multiple select element\r\n                    var resultadosAprendizaje = datos['RAsAsignatura'];\r\n\r\n                    resultadosAprendizaje.forEach(function(raText) {\r\n                        raText = raText.replace(\"http://www.semanticweb.org/valer/ontologies/OntoOA#\",\"\");\r\n                        var checkbox = document.createElement('input');\r\n                        checkbox.type = 'checkbox';\r\n                        checkbox.value = raText.toUpperCase().replace(/\\s+/g, '_');\r\n                        var label = document.createElement('label');\r\n                        label.textContent = raText;\r\n                        label.appendChild(checkbox);\r\n                        checkboxesContainer.appendChild(label);\r\n\r\n                        // Crear y añadir un elemento <br> después del label\r\n                        var br = document.createElement('br');\r\n                        checkboxesContainer.appendChild(br);\r\n                    });\r\n\r\n                    ul.insertAdjacentElement('afterend',seleccionarRAsTitulo);\r\n                    seleccionarRAsTitulo.insertAdjacentElement('afterend',checkboxesContainer);\r\n\r\n                    // RA para OA\r\n                    var title = document.createElement('h3'); // Título para el resultado de aprendizaje\r\n                    title.textContent = 'Definir el resultado de aprendizaje del Objeto de Aprendizaje';\r\n\r\n                    // Campos de entrada de texto\r\n                    var verboInput = createTextInput('Verbo:');\r\n                    var objetoConocimientoInput = createTextInput('Objeto de Conocimiento:');\r\n                    var condicionInput = createTextInput('Condición:');\r\n                    var finalidadInput = createTextInput('Finalidad:');\r\n\r\n                    // Append elements to form\r\n                    // mform.appendChild(title);\r\n                    // mform.appendChild(verboInput);\r\n                    // mform.appendChild(objetoConocimientoInput);\r\n                    // mform.appendChild(condicionInput);\r\n                    // mform.appendChild(finalidadInput);\r\n\r\n                    checkboxesContainer.insertAdjacentElement('afterend', title);\r\n                    title.insertAdjacentElement('afterend', verboInput);\r\n                    verboInput.insertAdjacentElement('afterend', objetoConocimientoInput);\r\n                    //Check if the OA already has a value for the field\r\n\r\n                    objetoConocimientoInput.insertAdjacentElement('afterend', condicionInput);\r\n                    condicionInput.insertAdjacentElement('afterend', finalidadInput);\r\n\r\n                    //TEST AJAX\r\n\r\n                    const updateVerboOA = (\r\n                        id,\r\n                        name,\r\n                    ) => ajax.call([{\r\n                        methodname: 'local_yourplugin_store_oa_fields',\r\n                        args: {\r\n                            id,\r\n                            name,\r\n                        },\r\n                    }])[0];\r\n\r\n                    const verifyVerbLevel = (\r\n                        raasignatura,\r\n                        verbo,\r\n                    ) => ajax.call([{\r\n                        methodname: 'local_yourplugin_verify_verb_level',\r\n                        args: {\r\n                            raasignatura,\r\n                            verbo,\r\n                        },\r\n                    }])[0];\r\n\r\n                    verboInput.addEventListener('change', async function(event) {\r\n                        // Your event handling code here\r\n                        log.debug('Input VERBO value changed:', event.target.value);\r\n\r\n                        const id = paramsObject['oaid'];\r\n                        const name = event.target.value;\r\n\r\n                        const response = await updateVerboOA(id, name);\r\n                        log.debug(response);\r\n\r\n                        const responseVerbLevel = await verifyVerbLevel(\"RAAsignatura\", name);\r\n                        log.debug(responseVerbLevel);\r\n\r\n                      });\r\n\r\n\r\n\r\n                     /**\r\n                        * Function to create\r\n                    */\r\n                     async function setOAFields() {\r\n                        // ...\r\n                        const id = paramsObject['oaid'];\r\n\r\n                        const getOAfields = async (id) => {\r\n                            const response = await ajax.call([{\r\n                                methodname: 'local_yourplugin_get_oa_fields',\r\n                                args: { id }\r\n                            }]);\r\n                            return response[0]; // Assuming ajax.call returns an array and you're interested in the first element\r\n                        };\r\n\r\n                        try {\r\n                            const response = await getOAfields(id);\r\n                            log.debug( response[0].name);\r\n\r\n                            var storedName = response[0].name;\r\n                            if(storedName != \"empty name\"){\r\n                                // Select the input element within the container\r\n                                var input = verboInput.querySelector('input');\r\n\r\n                                // Set the value of the input element\r\n                                input.value = storedName;\r\n                            }\r\n                        } catch (error) {\r\n                            log.debug('Error fetching OA fields:', error);\r\n                        }\r\n                    }\r\n\r\n                    setOAFields();\r\n                // Function to create text input with label\r\n                /**\r\n                * Function to create text input with label\r\n                * @param {string[]} labelText - j\r\n                */\r\n                function createTextInput(labelText) {\r\n                    var container = document.createElement('div');\r\n                    var label = document.createElement('label');\r\n                    label.textContent = labelText;\r\n                    var input = document.createElement('input');\r\n                    input.setAttribute('type', 'text');\r\n                    container.appendChild(label);\r\n                    container.appendChild(input);\r\n                    return container;\r\n                }\r\n\r\n\r\n                // Create table element\r\n                var tablaTitulo = document.createElement('h3');\r\n                tablaTitulo.textContent = 'Ordenar Topicos:';\r\n                finalidadInput.insertAdjacentElement('afterend', tablaTitulo);\r\n                // var table = document.createElement('table');\r\n                var table = document.getElementsByClassName(\"generaltable\")[0];\r\n\r\n                table.id = 'editableTable';\r\n                // Create thead element\r\n                var thead = document.createElement('thead');\r\n                var headerRow = document.createElement('tr');\r\n                ['','Tópico', 'Order', 'Tópico incluido','Orden Tópico incluido','Tópico Parte',\r\n                'Orden Tópico Parte','Ejemplos', 'Actividades']\r\n                .forEach(function(headerText) {\r\n                    var th = document.createElement('th');\r\n                    th.textContent = headerText;\r\n                    headerRow.appendChild(th);\r\n                });\r\n                thead.appendChild(headerRow);\r\n                table.appendChild(thead);\r\n\r\n                // Create tbody element with sample data\r\n                var tbody = document.createElement('tbody');\r\n                var rowData = [\r\n                    { name: 'Definición de límite',order: 1,  incluido: {}, parte:{}, ordenParte: \"\",ejemplos:\"\",\r\n                    actividades:\"Definición de límite - Actividad 1\" },\r\n                    { name: 'No existencia de límite',order: 2,  incluido: {}, parte:{},ordenParte: \"\",ejemplos:\"Ejemplo 1\",\r\n                    actividades:\"\"  },\r\n                    { name: 'Indeterminaciones',order: 2,  incluido: {\"0/0\":1,\"Inf/Inf\":2}, parte:{},ordenParte: \"\",ejemplos:\"\",\r\n                    actividades:\"0/0 Actividad a,Inf/Inf Actividad b \"},\r\n                ];\r\n\r\n                rowData.forEach(function(data) {\r\n                    var row = document.createElement('tr');\r\n                    row.style.border = '1px solid black';\r\n                     // Agregar asa de arrastre a la primera celda\r\n                    var dragHandleCell = document.createElement('td');\r\n                    dragHandleCell.className = 'drag-handle';\r\n                    dragHandleCell.textContent = '☰';\r\n                    dragHandleCell.draggable = true; // Asegurar que la celda sea arrastrable\r\n                    row.appendChild(dragHandleCell);\r\n\r\n                    Object.keys(data).forEach(function(key) {\r\n                        var td = document.createElement('td');\r\n                        var tdOrdenIncluido = document.createElement('td');\r\n                        if (key === 'incluido') {\r\n                            // Iterate through the object\r\n                            for (const incluido in data[key]) {\r\n                                if (data[key].hasOwnProperty(incluido)) {\r\n                                    var div = document.createElement('div');\r\n                                    div.className = 'draggable';\r\n                                    div.draggable = true;\r\n                                    div.textContent = incluido;\r\n                                    td.appendChild(div);\r\n\r\n                                    var divOrdenIncluido = document.createElement('div');\r\n                                    divOrdenIncluido.className = 'draggable';\r\n                                    divOrdenIncluido.draggable = true;\r\n                                    divOrdenIncluido.textContent = data[key][incluido];\r\n                                    tdOrdenIncluido.appendChild(divOrdenIncluido);\r\n                                }\r\n                            }\r\n                            row.appendChild(td);\r\n                            tdOrdenIncluido.style.border = '1px solid black';\r\n                            row.appendChild(tdOrdenIncluido);\r\n                        }\r\n                        else{\r\n                            td.textContent = data[key];\r\n                            row.appendChild(td);\r\n                        }\r\n                        td.style.border = '1px solid black';\r\n                    });\r\n                    tbody.appendChild(row);\r\n                });\r\n                table.appendChild(tbody);\r\n\r\n                // Add event listeners to editable cells\r\n                table.addEventListener('click', function(event) {\r\n                    var target = event.target;\r\n                    if (target.classList.contains('editable')) {\r\n                        var value = target.textContent;\r\n                        var input = document.createElement('input');\r\n                        input.type = 'text';\r\n                        input.value = value;\r\n                        input.addEventListener('blur', function() {\r\n                            var newValue = this.value;\r\n                            target.textContent = newValue;\r\n                        });\r\n                        target.textContent = '';\r\n                        target.appendChild(input);\r\n                        input.focus();\r\n                    }\r\n                });\r\n\r\n                // Agregar estilos CSS directamente desde JavaScript\r\n                var style = document.createElement('style');\r\n                style.textContent = `\r\n                    .drag-handle {\r\n                        cursor: grab;\r\n                    }\r\n                    .dragging {\r\n                        background-color: lightblue;\r\n                    }\r\n                    .draggable-container {\r\n                        display: flex;\r\n                        flex-direction: column;\r\n                    }\r\n                    .draggable {\r\n                        padding: 10px;\r\n                        border: 1px solid #ccc;\r\n                        background-color: #f9f9f9;\r\n                        margin-bottom: 5px;\r\n                        cursor: move;\r\n                    }\r\n                `;\r\n                document.head.appendChild(style);\r\n\r\n                // Agregar eventos de arrastre\r\n                var draggingElement = null;\r\n\r\n                // Función para manejar el evento de inicio de arrastre\r\n                /**\r\n                 * Función para manejar el evento de inicio de arrastre.\r\n                 * @param {DragEvent} event - El evento de arrastre.\r\n                 */\r\n                function handleDragStart(event){\r\n                    draggingElement = event.target.closest('tr');\r\n                    draggingElement.classList.add('dragging');\r\n                }\r\n\r\n                // Función para manejar el evento de soltar\r\n                /**\r\n                 * Función para manejar el evento de soltar.\r\n                 * @param {DragEvent} event - El evento de soltar.\r\n                 */\r\n                function handleDrop(event) {\r\n                    event.preventDefault();\r\n                    if (draggingElement) {\r\n                        var targetElement = event.target.closest('tr');\r\n                        if (targetElement && targetElement !== draggingElement) {\r\n                            var parent = draggingElement.parentNode;\r\n                            parent.removeChild(draggingElement);\r\n                            var referenceNode = (targetElement.nextSibling &&\r\n                                targetElement.nextSibling.nodeType === Node.ELEMENT_NODE) ?\r\n                                                targetElement.nextSibling : null;\r\n                            parent.insertBefore(draggingElement, referenceNode);\r\n                        }\r\n                        draggingElement.classList.remove('dragging');\r\n                        draggingElement = null;\r\n                    }\r\n                }\r\n\r\n                // Agregar eventos de arrastre a las celdas de asa de arrastre\r\n                var dragHandleElements = document.querySelectorAll('.drag-handle');\r\n                dragHandleElements.forEach(function(element) {\r\n                    element.addEventListener('dragstart', handleDragStart);\r\n                });\r\n                tbody.addEventListener('dragover', function(event) {\r\n                    event.preventDefault();\r\n                });\r\n                tbody.addEventListener('drop', handleDrop);\r\n\r\n                // Append the table to the container\r\n                tablaTitulo.insertAdjacentElement('afterend', table);\r\n\r\n                var editarcrearTitulo = document.createElement('h3');\r\n                editarcrearTitulo.textContent = 'Crear o editar H5P:';\r\n                table.insertAdjacentElement('afterend', editarcrearTitulo);\r\n\r\n                var formElements = document.getElementsByTagName(\"form\");\r\n                var h5pform = formElements[1];\r\n                log.debug(h5pform);\r\n                // var metadatosTitulo = document.createElement('h3');\r\n                // metadatosTitulo.textContent = 'Completar Metadatos:';\r\n                // h5pform.insertAdjacentElement('afterend', metadatosTitulo);\r\n                var buttonFin = document.createElement('button');\r\n\r\n                buttonFin.setAttribute('id', 'finBtn');\r\n                buttonFin.textContent = 'Finalizar OA';\r\n\r\n                // Add event listener to button\r\n                buttonFin.addEventListener('click', async function() {\r\n                    log.debug(\"CLICKED\");\r\n\r\n                    // Redirigir a la página de tu plugin local\r\n                    window.location.href = 'http://localhost/local/yourplugin/metadatos.php';\r\n                });\r\n\r\n                h5pform.insertAdjacentElement('afterend', buttonFin);\r\n\r\n                let draggedElement = null;\r\n\r\n                document.querySelectorAll('.draggable').forEach(item => {\r\n                    item.addEventListener('dragstart', function(e) {\r\n                        draggedElement = this;\r\n                        e.dataTransfer.effectAllowed = 'move';\r\n                        e.dataTransfer.setData('text/html', this.innerHTML);\r\n                    });\r\n\r\n                    item.addEventListener('dragover', function(e) {\r\n                        if (e.preventDefault) {\r\n                            e.preventDefault();\r\n                        }\r\n                        return false;\r\n                    });\r\n\r\n                    item.addEventListener('drop', function(e) {\r\n                        if (e.stopPropagation) {\r\n                            e.stopPropagation();\r\n                        }\r\n\r\n                        if (draggedElement !== this) {\r\n                            draggedElement.innerHTML = this.innerHTML;\r\n                            this.innerHTML = e.dataTransfer.getData('text/html');\r\n                        }\r\n\r\n                        return false;\r\n                    });\r\n                });\r\n\r\n\r\n\r\n            });\r\n        }\r\n    };\r\n});\r\n"],"names":["define","$","log","ajax","debug","init","datos_json","document","ready","datos","JSON","parse","queryString","window","location","search","params","substring","split","paramsObject","forEach","param","keyValue","key","decodeURIComponent","value","paramCourseid","selectTopicosH5P","seleccionarUnidadTitulo","createElement","textContent","select","setAttribute","unidadesConTemasYTopicos","contenidosMinimo","contenido","unidades","unidad","temasYTopicos","temas","map","tema","uri","replace","topicos","topico","push","obtenerUnidadesConTemasYTopicos","unidadConTemasYTopicos","option","toUpperCase","dataset","stringify","appendChild","mainDiv","querySelector","insertBefore","firstChild","insertAdjacentElement","ul","style","listStyleType","addEventListener","event","selectedOption","target","selectedOptions","innerHTML","item","liTema","liTopico","checkbox","type","label","prepend","marginLeft","getElementById","options","optionText","seleccionarRAsTitulo","checkboxesContainer","raText","br","title","verboInput","createTextInput","objetoConocimientoInput","condicionInput","finalidadInput","labelText","container","input","async","id","name","response","call","methodname","args","updateVerboOA","responseVerbLevel","raasignatura","verbo","getOAfields","storedName","error","setOAFields","tablaTitulo","table","getElementsByClassName","thead","headerRow","headerText","th","tbody","order","incluido","parte","ordenParte","ejemplos","actividades","data","row","border","dragHandleCell","className","draggable","Object","keys","td","tdOrdenIncluido","hasOwnProperty","div","divOrdenIncluido","classList","contains","newValue","this","focus","head","draggingElement","handleDragStart","closest","add","querySelectorAll","element","preventDefault","targetElement","parent","parentNode","removeChild","referenceNode","nextSibling","nodeType","Node","ELEMENT_NODE","remove","editarcrearTitulo","h5pform","getElementsByTagName","buttonFin","href","draggedElement","e","dataTransfer","effectAllowed","setData","stopPropagation","getData"],"mappings":"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"}