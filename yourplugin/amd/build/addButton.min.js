define("local_yourplugin/addButton",["jquery","core/log","core/ajax"],(function($,log,ajax){return log.debug("Your module is loading2."),{init:function(eventData){$(document).ready((function(){var eventDataObject=JSON.parse(eventData);log.debug(eventDataObject);var button=document.createElement("button");button.setAttribute("id","seleccionarBtn"),button.textContent="Crear nuevo RA";var mainDiv=document.querySelector('div[role="main"]');mainDiv.appendChild(button),async function(){const courseid=eventDataObject.courseid;try{const response=await(async courseid=>(await ajax.call([{methodname:"local_yourplugin_get_oa",args:{courseid:courseid}}]))[0])(courseid);log.debug(response),response.forEach((function(record){var buttonOA=document.createElement("button");buttonOA.textContent="Edit "+record.name;var courseid=record.course,contextid=eventDataObject.contextid,oaid=record.id;buttonOA.addEventListener("click",(function(){var url="http://localhost/local/yourplugin/index.php?courseid="+courseid+"&contextid="+contextid+"&oaid="+oaid;window.location.href=url})),mainDiv.appendChild(buttonOA)}))}catch(error){log.debug("Error fetching OA fields:",error)}}();button.addEventListener("click",(async function(){log.debug("CLICKED");const courseid=eventDataObject.courseid,response=await((courseid,name)=>ajax.call([{methodname:"local_yourplugin_store_oa",args:{courseid:courseid,name:name}}])[0])(courseid,"empty name");var oaid=response[0].id;window.location.href="http://localhost/local/yourplugin/index.php?courseid="+eventDataObject.courseid+"&contextid="+eventDataObject.contextid+"&oaid="+oaid}))}))}}}));

//# sourceMappingURL=addButton.min.js.map